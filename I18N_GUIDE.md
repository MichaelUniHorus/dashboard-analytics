# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n)

## –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —è–∑—ã–∫–∞:
- üá¨üáß **English (en)** - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- üá∑üá∫ **–†—É—Å—Å–∫–∏–π (ru)**

## –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —è–∑—ã–∫

### –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –µ—Å—Ç—å –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —Å –≤—ã–±–æ—Ä–æ–º —è–∑—ã–∫–∞.

### –ß–µ—Ä–µ–∑ URL
–î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `?lang=ru` –∏–ª–∏ `?lang=en` –∫ –ª—é–±–æ–º—É URL:
- `http://localhost:8000/?lang=ru` - –≥–ª–∞–≤–Ω–∞—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- `http://localhost:8000/transactions?lang=en` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –§–∞–π–ª –ø–µ—Ä–µ–≤–æ–¥–æ–≤
–í—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `app/i18n.py`:

```python
TRANSLATIONS = {
    'en': {
        'app_name': 'Dashboard Analytics',
        'nav_home': 'Home',
        # ...
    },
    'ru': {
        'app_name': '–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ü–∞–Ω–µ–ª—å',
        'nav_home': '–ì–ª–∞–≤–Ω–∞—è',
        # ...
    }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–æ—É—Ç–µ—Ä–∞—Ö

```python
from app.i18n import get_translation

def get_language(request: Request) -> str:
    """–ü–æ–ª—É—á–∏—Ç—å —è–∑—ã–∫ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ cookie."""
    lang = request.query_params.get('lang')
    if not lang:
        lang = request.cookies.get('lang', 'en')
    return lang if lang in ['en', 'ru'] else 'en'

@router.get("/")
def dashboard_home(request: Request):
    lang = get_language(request)
    t = get_translation(lang)
    
    return templates.TemplateResponse(
        "index.html",
        {"request": request, "t": t, "lang": lang}
    )
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–∞—Ö

```html
<!-- –í–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ -->
<h1>Dashboard Analytics</h1>

<!-- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥–∞ -->
<h1>{{ t.app_name }}</h1>
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —è–∑—ã–∫–∞

1. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ `app/i18n.py`:**

```python
TRANSLATIONS = {
    'en': { ... },
    'ru': { ... },
    'es': {  # –ò—Å–ø–∞–Ω—Å–∫–∏–π
        'app_name': 'Panel de An√°lisis',
        'nav_home': 'Inicio',
        # ... –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏
    }
}
```

2. **–û–±–Ω–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `get_language()` –≤ `app/routers/dashboard.py`:**

```python
def get_language(request: Request) -> str:
    lang = request.query_params.get('lang')
    if not lang:
        lang = request.cookies.get('lang', 'en')
    return lang if lang in ['en', 'ru', 'es'] else 'en'  # –î–æ–±–∞–≤—å—Ç–µ 'es'
```

3. **–î–æ–±–∞–≤—å—Ç–µ –ø—É–Ω–∫—Ç –≤ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ –≤ `app/templates/base.html`:**

```html
<ul class="dropdown-menu dropdown-menu-end">
    <li><a class="dropdown-item" href="?lang=en">üá¨üáß English</a></li>
    <li><a class="dropdown-item" href="?lang=ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</a></li>
    <li><a class="dropdown-item" href="?lang=es">üá™üá∏ Espa√±ol</a></li>
</ul>
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–∞

1. **–î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤–æ –≤—Å–µ —è–∑—ã–∫–∏ –≤ `app/i18n.py`:**

```python
TRANSLATIONS = {
    'en': {
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
        'new_feature': 'New Feature',
    },
    'ru': {
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
        'new_feature': '–ù–æ–≤–∞—è –§—É–Ω–∫—Ü–∏—è',
    }
}
```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —à–∞–±–ª–æ–Ω–µ:**

```html
<h2>{{ t.new_feature }}</h2>
```

## –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–∞

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
- `app_name` - –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `nav_home` - –ì–ª–∞–≤–Ω–∞—è
- `nav_transactions` - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `nav_equipment` - –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `home_title` - –ó–∞–≥–æ–ª–æ–≤–æ–∫
- `home_subtitle` - –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫
- `financial_transactions` - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `financial_desc` - –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤
- `equipment_monitoring` - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `equipment_desc` - –û–ø–∏—Å–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- `open_dashboard` - –û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å
- `key_features` - –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- `feature_filtering` / `feature_filtering_desc`
- `feature_charts` / `feature_charts_desc`
- `feature_tables` / `feature_tables_desc`
- `feature_metrics` / `feature_metrics_desc`
- `feature_sql` / `feature_sql_desc`
- `feature_custom` / `feature_custom_desc`

### –§–∏–ª—å—Ç—Ä—ã
- `filters` - –§–∏–ª—å—Ç—Ä—ã
- `start_date` - –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
- `end_date` - –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- `category` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è
- `all_categories` - –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `status` - –°—Ç–∞—Ç—É—Å
- `all_statuses` - –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã
- `group_by` - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
- `day` - –î–µ–Ω—å
- `month` - –ú–µ—Å—è—Ü
- `apply_filters` - –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
- `reset` - –°–±—Ä–æ—Å–∏—Ç—å

### –ú–µ—Ç—Ä–∏–∫–∏
- `total_amount` - –û–±—â–∞—è —Å—É–º–º–∞
- `transaction_count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `average_amount` - –°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞
- `max_amount` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞
- `measurement_count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ—Ä–µ–Ω–∏–π
- `average_value` - –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `min_value` - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `max_value` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

### –ì—Ä–∞—Ñ–∏–∫–∏ –∏ —Ç–∞–±–ª–∏—Ü—ã
- `time_series` - –í—Ä–µ–º–µ–Ω–Ω–æ–π —Ä—è–¥
- `category_breakdown_chart` - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- `equipment_breakdown` - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é
- `transaction_details` - –î–µ—Ç–∞–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `measurement_details` - –î–µ—Ç–∞–ª–∏ –∏–∑–º–µ—Ä–µ–Ω–∏–π

### –ö–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü
- `id` - ID
- `date` - –î–∞—Ç–∞
- `timestamp` - –í—Ä–µ–º—è
- `amount` - –°—É–º–º–∞
- `value` - –ó–Ω–∞—á–µ–Ω–∏–µ
- `unit` - –ï–¥–∏–Ω–∏—Ü–∞
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ
- `customer_id` - ID –∫–ª–∏–µ–Ω—Ç–∞
- `equipment` - –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
- `metric` - –ú–µ—Ç—Ä–∏–∫–∞

### –°–æ–æ–±—â–µ–Ω–∏—è
- `loading` - –ó–∞–≥—Ä—É–∑–∫–∞...
- `no_data` - –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö
- `error_loading` - –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∫–ª—é—á–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `start_date` –≤–º–µ—Å—Ç–æ `sd`)
3. **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤–º–µ—Å—Ç–µ)
4. **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ fallback**: `{{ t.key if t else 'Default' }}`
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –æ–±–æ–∏—Ö —è–∑—ã–∫–∞—Ö** –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –æ–±–æ–∏—Ö —è–∑—ã–∫–∞—Ö:

```bash
# –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
http://localhost:8000/?lang=en
http://localhost:8000/transactions?lang=en
http://localhost:8000/equipment?lang=en

# –†—É—Å—Å–∫–∏–π
http://localhost:8000/?lang=ru
http://localhost:8000/transactions?lang=ru
http://localhost:8000/equipment?lang=ru
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –≤ cookie
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞
- –ü–µ—Ä–µ–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å—Ç–∞—Ç—É—Å—ã)
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç –∏ —á–∏—Å–µ–ª
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ i18n (–Ω–∞–ø—Ä–∏–º–µ—Ä, Babel)
